import{j as r}from"./jsx-runtime-0ae02581.js";import{r as c}from"./index-a383d3d5.js";import{S as j}from"./sizeScreen-71d55eb1.js";function C(t,e,s){var i,n,a,o,d,u,h,m;switch(arguments.length===1&&(e=t.s,s=t.v,t=t.h),o=Math.floor(t*6),d=t*6-o,u=s*(1-e),h=s*(1-d*e),m=s*(1-(1-d)*e),o%6){case 0:i=s,n=m,a=u;break;case 1:i=h,n=s,a=u;break;case 2:i=u,n=s,a=m;break;case 3:i=u,n=h,a=s;break;case 4:i=m,n=u,a=s;break;case 5:i=s,n=u,a=h;break}return{r:Math.round(i*255),g:Math.round(n*255),b:Math.round(a*255)}}function T(t){let e=t.toString(16);return e.length===1&&(e="0"+e),e}function x(t){return T(t.r)+T(t.g)+T(t.b)}function R(t,e,s){arguments.length===1&&(e=t.g,s=t.b,t=t.r);var i=Math.max(t,e,s),n=Math.min(t,e,s),a=i-n,o,d=i===0?0:a/i,u=i/255;switch(i){case n:o=0;break;case t:o=e-s+a*(e<s?6:0),o/=6*a;break;case e:o=s-t+a*2,o/=6*a;break;case s:o=t-e+a*4,o/=6*a;break}return{h:o,s:d,v:u}}function E(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(i,n,a,o){return n+n+a+a+o+o});var s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return s?{r:parseInt(s[1],16),g:parseInt(s[2],16),b:parseInt(s[3],16)}:null}const ee=E,pe=t=>{if(!t)return"linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0))";const e=ee(t);return e?`linear-gradient(135deg, rgba(${e.r}, ${e.g}, ${e.b}, 0.1), rgba(${e.r}, ${e.g}, ${e.b}, 0))`:"linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0))"},H=({children:t,onHide:e,disableBackplate:s})=>{function i(){e&&e()}return r.jsxs("div",{className:"modal-container",style:{zIndex:s?"0":void 0},children:[r.jsx("div",{onClick:i,style:{display:s?"none":void 0},className:"backplate"}),t]})};H.__docgenInfo={description:"",methods:[],displayName:"ModalTemplate"};const F=({bottom:t=0,...e})=>{const[s,i]=c.useState(!1),[n,a]=c.useState(!0),o=c.useRef(null),d=c.useCallback(()=>{i(!0),setTimeout(()=>{e.onHide(),i(!1),a(!0)},200)},[e.onHide]);c.useEffect(()=>{e.visible&&a(!1)},[e.visible]),c.useEffect(()=>{!e.visible&&!n&&d()},[e.visible,d,n]);const u=c.useCallback(f=>{window.innerHeight-f.changedTouches[0].clientY<=150&&d(),o.current&&(o.current.style.height=`${window.innerHeight-f.changedTouches[0].clientY+20-t}px`)},[d]),h=f=>{window.innerHeight-f.clientY+20<=150&&d(),o.current&&(o.current.style.height=`${window.innerHeight-f.clientY+20-t}px`)},m=()=>{document.body.removeEventListener("mousemove",h),document.body.removeEventListener("mouseup",m)},b=()=>{document.body.addEventListener("mousemove",h),document.body.addEventListener("mouseup",m)};return c.useEffect(()=>()=>{document.body.removeEventListener("mousemove",h),document.body.removeEventListener("mouseup",m)}),n&&!s||!e.children?null:r.jsx(H,{onHide:d,children:r.jsxs("div",{ref:o,style:{paddingBottom:t},className:`bottom-sheets ${s?"hide":""}`,children:[r.jsx("div",{className:"bottom-sheets-handle",onMouseDown:b,onTouchMove:u,children:r.jsx("span",{})}),r.jsx("div",{className:"bottom-sheets-content",children:e.children})]})})};F.__docgenInfo={description:"",methods:[],displayName:"BottomSheetsUi",props:{onHide:{required:!0,tsType:{name:"signature",type:"function",raw:"()=>void",signature:{arguments:[],return:{name:"void"}}},description:""},visible:{required:!0,tsType:{name:"boolean"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},bottom:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}}}};const te=(t,e)=>{c.useEffect(()=>{if(t){const s=window.innerWidth-document.documentElement.clientWidth;e.style.overflow="hidden",e.style.paddingRight=`${s}px`}else e.style.overflow="",e.style.paddingRight="";return()=>{e.style.overflow="",e.style.paddingRight=""}},[t])},q={mobileSize:720,bigSize:1400},se=(t=q)=>{(t.bigSize<=100||t.mobileSize<=100||t.bigSize<=100||t.mobileSize>=t.bigSize)&&(console.error("useScreenSize: invalid option"),t=q);const[e,s]=c.useState(j.STANDART),i=c.useCallback(()=>{window.innerWidth<t.mobileSize?s(j.MOBILE):window.innerWidth<t.bigSize?s(j.STANDART):s(j.BIG_SCREEN)},[window.innerWidth]);return c.useEffect(()=>{i()},[i]),c.useEffect(()=>(window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}),[i]),{screen:e}};const z=({className:t,children:e,header:s,action:i,onHide:n,style:a,clearStyle:o=!1,disableBackplate:d})=>{function u(){n&&n()}return r.jsx(H,{onHide:u,disableBackplate:d,children:r.jsxs("div",{style:a,className:`${o?"":"dialog-container"} dialog-container-base ${t}`,children:[s?r.jsx("div",{className:"dialog-header",children:r.jsx("h2",{className:"text-3xl",children:s})}):null,r.jsx("div",{className:"dialog-content",children:e}),i?r.jsx("div",{className:"dialog-action",children:i}):null]})})},D=({marginBottom:t=80,...e})=>{const{screen:s}=se();te(!0,document.body);const i=()=>{var n;(n=e.onHide)==null||n.call(e)};return s!==j.MOBILE?r.jsx(z,{...e}):r.jsx(F,{bottom:t,onHide:i,visible:!0,children:r.jsxs("div",{style:e.style,className:`dialog-container-bottom-sheet ${e.className}`,children:[e.header?r.jsx("div",{className:"dialog-header",children:r.jsx("h2",{className:"text-3xl",children:e.header})}):null,r.jsx("div",{className:"dialog-content",children:e.children}),e.action?r.jsx("div",{className:"dialog-action",children:e.action}):null]})})};z.__docgenInfo={description:"",methods:[],displayName:"ModalTemplateDialog",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},header:{required:!1,tsType:{name:"string"},description:""},action:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},onHide:{required:!1,tsType:{name:"signature",type:"function",raw:"()=>void",signature:{arguments:[],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""},style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:""},clearStyle:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},disableBackplate:{required:!1,tsType:{name:"boolean"},description:""},marginBottom:{required:!1,tsType:{name:"number"},description:""}}};D.__docgenInfo={description:"",methods:[],displayName:"BasicTemplateDialog",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},header:{required:!1,tsType:{name:"string"},description:""},action:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},onHide:{required:!1,tsType:{name:"signature",type:"function",raw:"()=>void",signature:{arguments:[],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""},style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:""},clearStyle:{required:!1,tsType:{name:"boolean"},description:""},disableBackplate:{required:!1,tsType:{name:"boolean"},description:""},marginBottom:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"80",computed:!1}}}};function ne(t,e,s){if(!(!t||!e)){t.clearRect(0,0,e.width,e.height),s||(s="#ff0000"),t.fillStyle=s,t.fillRect(0,0,e.width,e.height);var i=t.createLinearGradient(0,0,e.width,0);i.addColorStop(0,"#fff"),i.addColorStop(1,"transparent"),t.fillStyle=i,t.fillRect(0,0,e.width,e.height);var n=t.createLinearGradient(0,0,0,e.height);n.addColorStop(0,"transparent"),n.addColorStop(1,"#000"),t.fillStyle=n,t.fillRect(0,0,e.width,e.height)}}function re(t,e,s,i){!e||!t||t.addEventListener("mousedown",function(n){ie(n,t,s,i)})}function G(t,e,s,i){if(t.preventDefault(),!e)return;const n=e.getBoundingClientRect();let a=t.clientY-n.top;a>n.height&&(a=n.height),a<0&&(a=0);let o=t.clientX-n.left;o>n.width&&(o=n.width),o<0&&(o=0);const d=a/n.height,u=o/n.width,h=100-100*d,m=100*u;i(Math.round(m),Math.round(h)),_(s,o,a)}function ie(t,e,s,i){const n=o=>G(o,e,s,i);G(t,e,s,i),s.classList.add("dragging"),window.addEventListener("mousemove",n),window.addEventListener("mouseup",a);function a(){s.classList.remove("dragging"),window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",a)}}function _(t,e,s){t.style.top=s+"px",t.style.left=e+"px"}function ae(t,e){if(!t||!e)return;const s=t.createLinearGradient(0,0,0,e.height);s.addColorStop(0,"hsl(0, 100%, 50%)"),s.addColorStop(.17,"hsl(298.8, 100%, 50%)"),s.addColorStop(.33,"hsl(241.2, 100%, 50%)"),s.addColorStop(.5,"hsl(180, 100%, 50%)"),s.addColorStop(.67,"hsl(118.8, 100%, 50%)"),s.addColorStop(.83,"hsl(61.2, 100%, 50%)"),s.addColorStop(1,"hsl(360, 100%, 50%)"),t.fillStyle=s,t.fillRect(0,0,e.width,e.height)}function oe(t,e,s,i){!t||!e||e.addEventListener("mousedown",function(n){le(n,s,e,i)})}function $(t,e,s,i){if(t.preventDefault(),!e)return;const n=e.getBoundingClientRect();let a=t.clientY-n.top;a>n.height&&(a=n.height),a<0&&(a=0);const d=360-360*(a/n.height);i(d),I(s,a)}function le(t,e,s,i){const n=o=>$(o,s,e,i);$(t,s,e,i),e.classList.add("dragging"),window.addEventListener("mousemove",n),window.addEventListener("mouseup",a);function a(){e.classList.remove("dragging"),window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",a)}}function I(t,e){t.style.top=e+"px"}const ce=["#FFFFFF","#FFFB0D","#0532FF","#FF9300","#00F91A","#FF2700","#000000","#686868","#EE5464","#D27AEE","#5BA8C4","#E64AA9"],A={h:0,s:1,v:.5},de=t=>{try{return R(E(t))}catch{return A}},ue=({onHide:t,beginColor:e,onChange:s,onAddColor:i,def:n,userColor:a=[]})=>{const o=c.useRef(null),d=c.useRef(null),u=c.useRef(null),h=c.useRef(null),[m,b]=c.useState(e?de(e):A),f=c.useMemo(()=>C(m),[m]),N=c.useMemo(()=>"#"+x(f),[f]),[L,X]=c.useState(!1),[g,S]=c.useState(N),O=c.useMemo(()=>g[0]!="#"?"#"+g:g,[g]);function P(l,p,v,w,y){if(!(!l||!v))try{const M=l.getBoundingClientRect(),J=v.getBoundingClientRect(),K=Math.round(y.s*M.width),Q=Math.round((1-y.v)*M.height),Z=(360-y.h*360)/360*J.height;_(p,K,Q),I(w,Z)}catch{}}const B=l=>{b(R(E(l))),S(l)},Y=c.useCallback(()=>{i&&i([...a,N])},[i,a,N]),V=c.useCallback(()=>{s&&s(N)},[s,N]),k=c.useCallback((l,p)=>{b(R({...f,[l]:p})),S(x({...f,[l]:p}))},[f]),W=c.useCallback(l=>{S(l)},[]),U=c.useCallback(()=>{n&&s&&s(n)},[n]);return c.useEffect(()=>{(g.length===4||g.length===7)&&b(R(E(g)))},[g]),c.useEffect(()=>{if(!u.current||!o.current||!d.current||!h.current)return;const l=u.current.getContext("2d");ne(l,u.current,`#${x(C(m.h,1,1))}`),P(u.current,h.current,o.current,d.current,m)},[m]),c.useEffect(()=>{if(!u.current||!h.current)return;const l=u.current.getContext("2d");re(u.current,l,h.current,(p,v)=>{b(w=>{const y={...w,s:p/100,v:v/100};return S(x(C(y))),y})})},[]),c.useEffect(()=>{if(!o.current||!d.current)return;const l=o.current.getContext("2d");ae(l,o.current),oe(l,o.current,d.current,p=>{b(v=>{const w={...v,h:p/360};return S(x(C(w))),w})})},[]),c.useEffect(()=>{console.log(m,f)},[m]),r.jsxs(D,{className:"color-picker-panel",onHide:t,clearStyle:!0,children:[r.jsxs("div",{className:"panel-row",style:{padding:0},children:[r.jsx("div",{className:"swatches default-swatches",children:ce.map((l,p)=>r.jsx("button",{onClick:()=>B(l),className:"swatch",style:{backgroundColor:l}},p))}),r.jsx("button",{className:"button-color-picker eyedropper",onClick:V,children:"Get Color"})]}),r.jsxs("div",{className:"panel-row",style:{padding:0},children:[r.jsxs("div",{className:"spectrum-map spectrum-cursor",children:[r.jsx("button",{ref:h,className:"color-cursor spectrum-cursor"}),r.jsx("canvas",{ref:u,className:"spectrum-canvas spectrum-canvas-color-picker"})]}),r.jsxs("div",{className:"hue-map",children:[r.jsx("button",{ref:d,className:"color-cursor hue-cursor"}),r.jsx("canvas",{ref:o,className:"hue-canvas hue-canvas-color-picker"})]})]}),r.jsxs("div",{className:"panel-row",style:{padding:0},children:[r.jsxs("div",{className:`field-group value-fields rgb-fields ${L?"":"active"}`,children:[r.jsxs("div",{className:"field-group",children:[r.jsx("label",{className:"field-label",children:"R:"}),r.jsx("input",{type:"number",max:"255",min:"0",value:f.r,onChange:l=>k("r",Number(l.target.value)),className:"field-input rgb-input"})]}),r.jsxs("div",{className:"field-group",children:[r.jsx("label",{className:"field-label",children:"G:"}),r.jsx("input",{type:"number",max:"255",min:"0",value:f.g,onChange:l=>k("g",Number(l.target.value)),className:"field-input rgb-input"})]}),r.jsxs("div",{className:"field-group",children:[r.jsx("label",{className:"field-label",children:"B:"}),r.jsx("input",{type:"number",max:"255",min:"0",value:f.b,onChange:l=>k("b",Number(l.target.value)),className:"field-input rgb-input"})]})]}),r.jsxs("div",{className:`field-group value-fields hex-field ${L?"active":""}`,children:[r.jsx("label",{className:"field-label",children:"Hex:"}),r.jsx("input",{type:"text",className:"field-input",value:O,onChange:l=>W(l.target.value)})]}),r.jsx("button",{className:"button-color-picker mode-toggle",onClick:()=>X(l=>!l),children:"Mode"})]}),r.jsxs("div",{className:"panel-row",style:{padding:0},children:[r.jsx("h2",{className:"panel-header",children:"User Colors"}),r.jsx("div",{id:"user-swatches",className:"swatches custom-swatches",children:a?a.map((l,p)=>r.jsx("button",{onClick:()=>B(l),className:"swatch",style:{backgroundColor:l}},p)):null}),r.jsxs("button",{onClick:Y,className:"button-color-picker add-swatch",children:[r.jsx("span",{style:{backgroundColor:`#${x(C(m))}`},className:"color-indicator"}),r.jsx("span",{children:"Add to Swatches"})]}),n&&r.jsxs("button",{onClick:()=>U(),className:"button-color-picker add-swatch",children:[r.jsx("span",{style:{backgroundColor:n},className:"color-indicator"}),r.jsx("span",{children:"set default"})]})]})]})};ue.__docgenInfo={description:"",methods:[],displayName:"ColorPicker",props:{userColor:{defaultValue:{value:"[]",computed:!1},required:!1}}};export{F as B,ue as C,E as H,H as M,D as a,z as b,se as c,pe as g,te as u};
